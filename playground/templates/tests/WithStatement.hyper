# Context manager patterns
lock: Any
file_path: str

<div class="context-managers">
    with lock:
        <span>Critical section</span>
    end

    with open(file_path) as f:
        content = f.read()
        <pre>{content}</pre>
    end

    # Nested with
    with lock:
        <div class="outer">
            with open(file_path) as f:
                <span>Reading with lock held</span>
            end
        </div>
    end
</div>
